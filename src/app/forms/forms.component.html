<div class="container-fluid backgroundColor">
  <h1 class="text-center text-capitalize">{{ title }}</h1>
  <form
    #userForm="ngForm"
    (ngSubmit)="onsubmit(); userForm.reset()"
    style="width: fit-content"
  >
    with NgForm: {{ userForm.value | json }}
    <hr />
    with userModel: {{ userModel | json }}

    <div class="row">
      <div class="form-group col-md-6">
        <label>Firstname</label>
        <input
          [(ngModel)]="userModel.firstname"
          type="text"
          #firstname="ngModel"
          [class.is-invalid]="firstname.invalid && firstname.touched"
          class="form-control"
          name="firstname"
          placeholder="First name"
          required
        />
      </div>
      <br />
      <small
        class="text-danger"
        [class.d-none]="firstname.valid || firstname.untouched"
        >Firstname is Required
      </small>

      <div class="form-group col-md-6">
        <label>LastName</label>
        <input
          [(ngModel)]="userModel.lastname"
          type="text"
          #lastname="ngModel"
          [class.is-invalid]="lastname.invalid && lastname.touched"
          class="form-control"
          name="lastname"
          placeholder="last name"
          required
        />
      </div>
      <small
        class="text-danger"
        [class.d-none]="lastname.valid || lastname.untouched"
        >Lastname is Required
      </small>
    </div>

    <div class="form-group">
      <label>interested:</label>
      <select
        [(ngModel)]="userModel.interested"
        #select="ngModel"
        [class.is-invalid]="select.touched && select.invalid"
        class="form-control"
        name="interested"
        required
      >
        <option *ngFor="let value of interested" [value]="value">
          {{ value }}
        </option>
      </select>
    </div>
    <small class="text-danger" [class.d-none]="select.valid || select.untouched"
      >Pleease Choose a topic
    </small>

    <div class="form-group">
      <label>Email</label>
      <input
        [(ngModel)]="userModel.email"
        type="email"
        #email="ngModel"
        [class.is-invalid]="email.invalid && email.touched"
        class="form-control"
        name="email"
        placeholder="email"
        required
      />
    </div>
    <small class="text-danger" [class.d-none]="email.valid || email.untouched"
      >Email is Required
    </small>

    <div class="form-group">
      <label>Password</label>
      <input
        [(ngModel)]="userModel.password"
        type="password"
        #pasword="ngModel"
        [class.is-invalid]="pasword.invalid && pasword.touched"
        class="form-control"
        name="password"
        placeholder="Password"
        required
      />
    </div>
    <br />
    <small
      class="text-danger"
      [class.d-none]="pasword.valid || pasword.untouched"
      >Password is Required
    </small>

    <button
      [disabled]="userForm.form.invalid"
      type="submit"
      class="btn btn-primary"
    >
      Submit
    </button>
  </form>
  <br /><br />

  <!-- another demo of TDF for learning -->
  <h2>another example for TDF</h2>
  <form
    #customer="ngForm"
    (ngSubmit)="CustomerForm(); customer.reset()"
    style="width: fit-content"
  >
    {{ customer.value | json }}
    <hr />
    {{ customerModel | json }}
    <div class="row">
      <div class="form-group col-md-6">
        <input
          [(ngModel)]="customerModel.firstname"
          type="text"
          #fname="ngModel"
          [class.is-invalid]="fname.invalid && fname.touched"
          class="form-control"
          name="firstname"
          placeholder="first name"
          required
        />
        <div *ngIf="fname.invalid && fname.touched">
          <small class="text-danger">Firstnme is required</small>
        </div>
      </div>
      <br />
      <div class="form-group col-md-6">
        <input
          [(ngModel)]="customerModel.lastname"
          type="text"
          #lname="ngModel"
          [class.is-invalid]="lname.invalid && lname.touched"
          class="form-control"
          name="lastname"
          placeholder="lastname"
          required
        />
        <div *ngIf="lname.invalid && lname.touched">
          <small class="text-danger">Lastname is Required</small>
        </div>
      </div>
    </div>
    <br />
    <input
      [disabled]="customer.form.invalid"
      type="submit"
      class="btn btn-primary"
    />
  </form>
</div>
